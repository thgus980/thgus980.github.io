---
layout: single
title:  "[2025-12-20] 20251220 개발일지"
categories: devlog
toc: true
---

## 서비스 운영이 쉬워지는 AWS 인프라 구축 가이드

### 배포 관련 용어
- 무중단/중단 배포: 말 그대로 배포를 할 때, 서비스를 중단할지 안 할지의 차이. 서비스를 중단하지 않는다는 것은 사용자들이 서비스를 사용하는 데 아무런 지장 없이 배포를 진행하는 경우를 뜻한다. 중단 배포의 예는 서버 정기 점검.
- 현재 위치 배포: 무중단 배포를 하기 위한 기법의 하나로 여러대의 서버를 배포할 때 새롭게 서버를 생성하거나 줄이지 않고 배포하는 방법. 예를 들어 절반의 인스턴스를 단위로 배포를 진행하는 경우를 뜻함. 배포 중에는 클라이언트의 요청을 처리할 수 있는 인스턴스의 수가 준다는 점에 유의해야 함.
- 서버 단위의 블루/그린 배포: 무중단 배포 기법 중 하나. 똑같은 서버 환경을 두 세트(블루/그린) 준비해서 번갈아 가며 사용하는 방식. (블루: 현재 실제 사용자가 접속하여 이용 중인 기존 버전의 운영 환경/ 그린: 새로운 기능이나 수정 사항이 반영된 신규 버전의 환경)
- 서버 내 블루/그린 배포: 서버 단위의 블루/그린 배포는 로드 밸런서를 이용해 트래픽을 각 그룹으로 라우팅 했다면 서버 내 블루/그린 배포는 웹 서버를 이용해 각 포트로 라우팅하는 방식.

### AWS CodeDeploy
- AWS에서 제공하는 배포 자동화 서비스.
- 작동절차
    1. 애플리케이션 코드와 AppSpec.yml 파일을 코드 저장소(깃허브 또는 AWS S3)에 업로드
    2. CodeDeploy에 요청
    3. CodeDeploy가 EC2 인스턴스들에 설치돼 있는 Agent들에게 배포를 해달라고 요청
    4. Agent들은 코드 저장소에서 코드를 내려받고 AppSpec.yml에 적혀있는 설명서대로 배포를 진행
