---
layout: single
title:  "[2026-02-25] 20260225 개발일지"
categories: devlog
toc: true
---

## AWS Certified Solutions Architect – Associate (SAA)

### 보안 그룹
- Q. 프라이빗 서브넷에 있는 EC2 인스턴스에서 데이터베이스를 운영하고 있습니다. 보안을 위해 오직 퍼블릭 서브넷에 있는 웹 서버(FastAPI) 인스턴스들만 이 데이터베이스에 접속할 수 있도록 허용하고 싶습니다. 다음 중 가장 안전하고 권장되는 보안 그룹 설정 방법은 무엇입니까?
  1. 데이터베이스 보안 그룹의 인바운드 규칙에 웹 서버의 공인 IP(Public IP) 주소를 개별적으로 추가한다.
  2. 데이터베이스 보안 그룹의 인바운드 규칙에 웹 서버가 속한 보안 그룹 ID를 소스(Source)로 지정한다.
  3. 데이터베이스 보안 그룹의 아웃바운드 규칙에서 모든 웹 서버로의 통신을 허용한다.
  4. 모든 트래픽을 허용(0.0.0.0/0)하도록 설정한 뒤, 데이터베이스 엔진 자체의 비밀번호 보안을 강화한다.
- A. 정답 2번
  - 보안 그룹 참조(Security Group Referencing): 이것이 AWS 보안 설계의 정석. 웹 서버의 IP 주소는 인스턴스가 재시작되거나 Auto Scaling으로 늘어날 때마다 바뀔 수 있음. 하지만 웹 서버용 **보안 그룹 ID**를 소스로 지정하면, 해당 보안 그룹을 가진 모든 웹 서버는 IP가 무엇이든 자동으로 데이터베이스 접속 권한을 갖게 됨.
  - 최소 권한의 원칙: 특정 IP를 일일이 넣는 것보다 관리가 훨씬 쉽고 실수를 줄여줌.
  - 1번: 웹 서버가 늘어날 때마다(Auto Scaling) 매번 IP를 수종으로 추가해야 하므로 매우 비효율적.
  - 3번: 접속 허용은 들어오는 길을 여는 **인바운드** 규칙에서 설정해야 함.
  - 4번: 보안의 기본인 '네트워크 방어'를 포기하는 매우 위험한 방식.
 
### 보안 그룹은 '상태 저장(Stateful)' 방식
- 들어오는 길(Inbound)만 열어주면, 나가는 길(Outbound)은 AWS가 알아서 기억했다가 열어줌.
- 반면, **네트워크 ACL(NACL)** 은 들어오는 길과 나가는 길을 각각 따로 열어줘야 하는 '상태 비저장(Stateless)' 방식이라는 차이점이 있음.
