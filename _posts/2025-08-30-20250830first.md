---
layout: single
title:  "[2025-08-24] 20250824 개발일지"
categories: devlog
toc: true
---

## 녹음파일 기반 회의록 작성

### 1. 대략적인 구현 방법
- 위스퍼 API 사용
- 시간대별 화자를 구분하기 위해서 -> 허깅페이스의 pyannote/speaker-diarization-3.1 사용
- 오디오와 비디오 파일을 변환해 처리하는 오픈소스 도구 -> FFMPEG 사용

### 2. 녹음파일 형식
- 겉으로 봤을 때, .m4a라도 다 같은 .m4a가 아니다!
- test1.m4a(실행 안됐음)와 test2.m4a(실행 됐음)의 차이점?
    - test1.m4a: 헤더가 ftyp3gp4 -> 3GP4 형식(모바일 녹음)
    - test2.m4a: 헤더가 ftypMAA -> 표준 M4A 형식
    - 문제 정리: OpenAI API는 m4a를 지원한다고 하지만, 표준 M4A 형식만 지원하고 3GP4는 지원하지 않는 것으로 보임.
    - 해결 방법: 헤더에서 3GP4 형식을 감지한다면, 표준 M4A로 변환하도록 코드 추가

### 3. GPT를 이용하여 회의록 작성
- 1번과 2번의 단계를 거치면 시가내별 화자를 구분한 결과 파일을 얻을 수 있다
- 위의 결과 파일을 기반으로 GPT를 이용하여 회의록까지 작성하기
    1. 음성 전사
    2. 화자 구문
    3. 매칭
    4. DataFrame 생성
    5. JSON 변환 (GPT가 이해하기 쉽게)
    6. GPT 회의록 생성
    7. 저장