---
layout: single
title:  "[2025-04-13] 20250413 개발일지"
categories: devlog
toc: true
---

## 강좌명: 스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술

### Github Repository
https://github.com/thgus980/springstudy-servlet

### 1. 서블릿으로 회원 관리 웹 애플리케이션 만들기
- 단점: 자바코드에 HTML을 작성해야해서 불편함
- 위의 단점 때문에 HTMl 문서에서 필요한 곳만 자바 코드를 적용해서 동적으로 변경할 수 있음 : 템플릿 엔진 (JSP, Tymeleaf 등)

### 2. JSP로 회원 관리 웹 애플리케이션 만들기
- 서버에서 경로: webapp 밑에 있는 건 기본적으로 호출되기 때문에 webapp 다음에 있는 디렉토리 순으로 슬래시로 나눠서 접속하면 됨 (.jsp까지 작성해주기)
- 자바 코드 작성 시 : <% ~ %>
- 자바 코드 출력 시 : <%= ~ %>
- 서블릿(HTML 작성 시 불편)이나 JSP(JSP 한 파일이 너무 많은 역할을 하게 됨)나 유지보수 면에서 쉽지 않다 -> MVC 패턴의 등장
- MVC 패턴: 비즈니스 로직은 서블릿처럼 다른 곳에서 처리하고, JSP는 목적에 맞게 HTML로 화면(View)을 그리는 일에 집중하도록 하자. (역할을 분리)

### 3. MVC 패턴 개요
- **컨트롤러**: HTTP 요청을 받아서 파라미터를 검증하고, 비즈니스 로직을 실행(일반적으로 비즈니스 로직을 호출하는 역할까지만)한다. 그리고 뷰에 전달할 결과 데이터를 조회해서 모델에 담는다. (서블릿)
- **모델**: 뷰에 출력할 데이터를 담아둔다. 뷰가 필요한 데이터를 모두 모델에 담아서 전달해주는 덕분에 뷰는 비즈니스 로직이나 데이터 접근을 몰라도 되고, 화면을 렌더링 하는 일에 집중할 수 있다.
- **뷰**: 모델에 담겨있는 데이터를 사용해서 화면을 그리는 일에 집중한다. 여기서는 HTML을 생성하는 부분을 말한다. (JSP)
![MVC패턴2.PNG](<../images/2025-04-13-20250413first/MVC패턴2.PNG>)

### 4. MVC 패턴 - 적용
- 컨트롤러: 서블릿
- 뷰: JSP
- 모델: HttpServletRequest 객체 ( request는 내부에 데이터 저장소를 가지고 있음 )
- `/WEB-INF` : 이 경로 안에 JSP가 있으면 외부에서 직접 JSP를 호출 할 수 없음 (검색창에 경로 검색한다고 해서 접근 가능하지 않음. 컨트롤러인 서블릿 거쳐서 호출되어야만 접근 가능. WAS 룰임.) -> 항상 컨트롤러를 통해서 JSP를 호출하는 것
- redirect VS forward? 리다이렉트는 실제 클라이언트(웹 브라우저)에 응답이 나갔다가, 클라이언트가 redirect 경로로 다시 요청한다. 따라서 클라이언트가 인지할 수 있고, URL 경로도 실제로 변경된다. 반면에 포워드는 서버 내부에서 일어나는 호출이기 때문에 클라이언트가 전혀 인지하지 못한다.
    - forward 예: `dispacher.forward()` -> 다른 서블릿이나 JSP로 이동할 수 있는 기능. 서부 내부에서 다시 호출이 발생함. (마치 함수마냥)
- JSP에서 지원하는 편리한 표현법: `${member.id} <!-- 같은 코드:  <%=(Member)request.getAttribute("member").getId()%>  -->`
- MVC 패턴 규칙: 항상 컨트롤러를 먼저 거치고 뷰로 간다
- MVC 패턴 한계: 포워드 중복, ViewPath 중복, ... -> 중복으로 인해 공통 처리가 어렵다는 문제가 있다 -> 수문장 역할의 **Front Controller 패턴**을 도입하면 이런 문제를 해결할 수 있다! (컨트롤러 호출 전에 먼저 공통 기능을 처리)

### 5. Fornt Controller
1. 프론트 컨트롤러 서블릿 하나로 클라이언트의 요청을 받음
2. 프론트 컨트롤러가 **요청에 맞는 컨트롤러를 찾아서 호출**
3. 입구를 하나로!
4. **공통 처리** 가능
5. 프론트 컨트롤러를 제외한 나머지 컨트롤러는 서블릿을 사용하지 않아도 됨

### 참고
- MVC 패턴 (넓은 개념), 스프링 MVC (MVC 패턴 중 하나) -> 다음 강의부터의 목표는 직접 MVC 패턴을 만들어본다 (스프링 MVC와 유사해짐)