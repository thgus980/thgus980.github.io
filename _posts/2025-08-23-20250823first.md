---
layout: single
title:  "[2025-08-23] 20250823 개발일지"
categories: devlog
toc: true
---

## 강좌명: 자바와 스프링 부트로 생애 최초 서버 만들기, 누구나 쉽게 개발부터 배포까지! [서버 개발 올인원 패키지]

### Github Repository
https://github.com/thgus980/library-app

### 1. Transaction
- 쪼갤 수 없는 업무의 최소 단위 (모두 다 성공시키거나 모두 다 실패시키거나)
- SQL을 한 단위로 묶은 것
- `start transaction;` `commit;` `rollback;`
- commit이나 rollback을 하지 않았으면 결과가 DB에 반영되지 않는다

### 2. Transaction 적용과 영속성 컨텍스트
- 스프링에서 트랜잭션 적용하려면? @Transactional
```java
// 아래 있는 함수가 시작될 때 start transaction;을 해준다 (트랜잭션을 시작!)
// 함수가 예외없이 잘 끝났다면 commit
// 혹시라도 문제가 있다면 rollback
@Transactional
public void saveUser(UserCreateRequest request){
    // save된 User 반환
    User u= userRepository.save(new User(request.getName(), request.getAge())); //save 메소드에 객체를 넣어주면 INSERT SQL이 자동으로 날라간다
    // u.getId();
}
```
- 참고: IOException과 같은 Checked Exception은 롤백이 일어나지 않는다
- 영속성 컨텍스트란? 테이블과 매핑된 Entity 객체(ex. User 객체)를 관리/보관하는 역할
- 스프링에서는 트랜잭션을 사용하면 영속성 컨텍스트가 생겨나고, 트랜잭션이 종료되면 영속성 컨텍스트가 종료된다
- 영속성 컨텍스트의 능력: 변경 감지, 쓰기 지연, 1차 캐싱