---
layout: single
title:  "[2026-01-18] 20260118 개발일지"
categories: devlog
toc: true
---

## FastAPI

### 동시 접속자
- FastAPI의 처리 용량은 고정된 숫자가 아니라 여러 요인에 따라 달라진다
- 주요 병목은 Bedrock API 호출 구간
- 운영 환경에서는 `uvicorn app.main:app --workers 4 --host 0.0.0.0 --port 8000`와 같이 다중 워커사용 (단, 다중 워커 사용 시 세션 저장소 문제가 발생할 수 있음)
- 비동기 구현 방법 중 하나인 스레드 풀을 구현하면 동시 처리량 약 20배 증가 가능 (블로킹 코드를 스레드 풀에서 실행하는 방법)
- 워커를 4개로 늘리는 경우에는 메모리 공간이 4개로 쪼개져서 문제가 발생
- 1 워커 스레드 풀 방식은 메모리 공간은 여전히 하나라 세션이 꼬이는 문제 발생 X
